{% extends 'core/base.html' %}
{% load static %}

{% block title %}{{ course.title }} | Grey Hat Institute{% endblock %}

{% block content %}
<style>
  body {
    background: linear-gradient(135deg, #1e1e2f 0%, #3b3b98 100%);
    background-attachment: fixed;
    color: hsl(69, 8%, 83%);
  }

  .card {
    border-radius: 20px;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
  }

  .card-body h2 {
    color: #3b3b98;
  }

  .card-body p {
    color: #0d0d0e;
  }

  .btn-primary {
    background-color: #3b3b98;
    border: none;
  }

  .btn-primary:hover {
    background-color: #2f2f8f;
  }

  .btn-success {
    background-color: #28a745;
    border: none;
  }

  .btn-success:hover {
    background-color: #218838;
  }

  .btn-secondary {
    background-color: #6c757d;
    border: none;
    color: #09090a;
  }

  .btn-secondary:hover {
    background-color: #5a6268;
  }
</style>

<div class="card shadow-sm">
  <div class="card-body">
    <h2>{{ course.title }}</h2>
    <p>{{ course.description }}</p>
    <p><strong>Duration:</strong> {{ course.duration }}</p>
    <p><strong>Price:</strong> â‚¹{{ course.price }}</p>

    {% if user.is_authenticated %}
    {% if user in course.enrolled_users.all %}
        <button class="btn btn-secondary" disabled>Already Enrolled</button>
    {% else %}
        <a href="{% url 'payment:payment_page' course.id %}" class="btn btn-success">Enroll Now</a>
    {% endif %}
{% else %}
    <a href="{% url 'login' %}?next={% url 'course_details' course.id %}" class="btn btn-primary">Login to Enroll</a>
{% endif %}
{% endblock %}



